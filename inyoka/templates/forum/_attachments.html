{#
    forum/_attachments.html
    ~~~~~~~~~~~~~~~~~~~~~~~

    A macro that renders the attachments of a post.
    :Parameters:

        attachments
            This has to be a list of the attachments that belong to the current
            post.

    :copyright: 2007-2008 by Benjamin Wiegand, Christopher Grebs.
    :license GNU GPL
    
#}
{%- if attachments %}
<hr />
<dl class="attachments">
  {%- for group in attachments|groupby('mimetype') %}
  {% if group.grouper[:5] == 'image' and USER.settings.show_thumbnails %}
    <dt>Bilder (Vorschau)</dt>
    <dd><ul class="image_list">
    {% for att in group.list %}
    <li>{{ att.html_representation }}</li>
    {% endfor %}
    </ul></dd>
  {% else %}
    {% for att in group.list %}
    <dt>{{ att.name|e }} ({{ att.size|filesizeformat }})</dt>
    {% if att.comment %}
    <dd class="comment">{{ att.comment|e }}</dd>
    {% endif %}
    <dd>{{ att.html_representation }}</dd>
    {% endfor %}
  {% endif %}
  {% endfor %}
</dl>
{%- endif %}
