{#
    admin/pages.html
    ~~~~~~~~~~~~~~~~

    This is the overview of the static pages configuration.

    :copyright: 2008 by Christopher Grebs.
    :license: GNU GPL.
#}
{%- extends 'admin/overall.html' %}
{% set navigation_trace = [
    (href('admin', 'pages'), 'Statische Seiten'),
  ] %}
{% block appheader %}
<h1>Administration</h1>
<h2>Portal</h2>
{% endblock %}

{% block admin_content %}
<h3>Statische Seiten</h3>
<table class="static_pages">
  <thead>
  <tr>
    <th>{{ table.get_html('key', 'Schlüssel') }}</th>
    <th>{{ table.get_html('title', 'Titel') }}</th>
    <th>Aktionen</th>
  </tr>
  </thead>
  <tbody>
  {%- for page in pages %}
  <tr>
    <td class="key"><a href="{{ page|url }}">{{ page.key }}</a></td>
    <td class="title">{{ page.title }}</td>
    <td class="actions">
      <a href="{{ page|url('edit') }}">Editieren</a>
      <a href="{{ page|url('delete') }}">Löschen</a>
    </td>
  </tr>
  {%- else %}
  <tr>
    <td colspan="3">Es existieren keine statischen Seiten, <a href="{{ href('admin', 'pages', 'new') }}">erstelle</a> jetzt die erste!</td>
  </tr>
  {%- endfor %}
  </tbody>
</table>
<a href="{{ href('admin', 'pages', 'new') }}">Neue Seite erstellen</a>
{% endblock %}
