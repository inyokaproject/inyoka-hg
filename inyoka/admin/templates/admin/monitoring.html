{#
    admin/monitoring.html
    ~~~~~~~~~~~~~~~~~~~~~

    :copyright: 2010 by Christopher Grebs.
    :license: GNU GPL.
#}
{%- extends 'admin/overall.html' %}
{% set navigation_trace = [
    (href('admin', 'monitoring'), 'Monitoring'),
  ] %}
{% set scripts = ['jQuery.visualize.js'] %}
{% set styles = ['visualize.css'] %}
{% block appheader %}
<h1><a href="{{ href('admin') }}">Administration</a></h1>
<h2><a href="{{ href('admin', 'monitoring') }}">Monitoring</a></h2>
{% endblock %}

{% block admin_content %}
<h3>Monitoring</h3>
<p class="linklist">
<a href="{{ href('admin', 'monitoring', 'errors') }}">Fehlermeldungen</a> |
<a href="{{ href('admin', 'monitoring', 'stats') }}">Detaillierte Statistiken</a>
</p>

<hr />
<h4>Fehlerstatistiken</h4>
<table class="errorstats">
  <tr>
    <th>Offen</th>
    <th>Geschlossen</th>
  </tr>
  <tr>
    <td>{{ stats['open'] }}</td>
    <td>{{ stats['closed'] }}</td>
  </tr>
</table>

<script type="text/javascript">
  /* <![CDATA[ */
  $(document).ready(function() {
    $('table.errorstats').visualize({
      type: 'pie',
      height: '200px',
      width: '420px',
      parseDirection: 'y',
      appendTitle: false
    });
    $('table.errorstats').hide();
  });
  /* ]]> */
</script>


{% endblock %}
