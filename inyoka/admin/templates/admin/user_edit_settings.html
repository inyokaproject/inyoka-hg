{#
    admin/user_edit_settings.html
    ~~~~~~~~~~~~~~~~~~~~

    Change the settings of a user.

    :copyright: (c) 2007-2010 by the Inyoka Team, see AUTHORS for more details.
    :license: GNU GPL, see LICENSE for more details.
#}
{%- extends 'admin/overall.html' %}
{% from 'macros.html' import render_form %}

{% macro user_edit_button(link, icon, name) %}
  <li>
    <span><a href="{{ link }}">
      <img src="{{ href('static', 'img/usercp/usercp-%s.png'|format(icon)) }}" alt="{{ name }}" /><br />
      {{ name }}
    </a></span>
  </li>
{% endmacro %}

{% set styles = ['editor-sprite.css', 'datetimefield.css', 'portal.css'] %}
{% set scripts = ['WikiEditor.min.js', 'DateTime.min.js', 'PrivilegeBox.min.js', 'UserGroupBox.min.js',
                  'jquery.autocomplete.min.js'] %}

{% set navigation_trace = [
    (href('admin', 'users'), 'Benutzer'),
    (href('admin', 'users', 'edit', user.username), 'Benutzer „%s“ editieren'|format(user.username|e)),
    (href('admin', 'users', 'edit', user.username, 'settings'), 'Einstellungen')
] %}

{% block appheader %}
<h1><a href="{{ href('admin') }}">Administration</a></h1>
<h2><a href="{{ href('admin', 'users') }}">Benutzer</a></h2>
<h2><a href="{{ href('admin', 'users', user.username, 'settings') }}">Einstellungen</a></h2>
{% endblock %}


{% block admin_content %}
<form enctype="multipart/form-data" id="user_edit_form" method="post" action="">
  <h3>Benutzereinstellungen</h3>
  <dl>
    {{ render_form(form, ['notify', 'notifications', 'ubuntu_version'], inline=True) }}
    <p class="note"><a href="{{ href('admin', 'users', user.username, 'subscriptions') }}">Abonnements ansehen/bearbeiten</a></p>
    {{ render_form(form, ['timezone'], inline=true) }}
    <dt>Oberfläche</dt>
    <dd>{{ form.hide_avatars }} <label for="id_hide_avatars">{{ form.hide_avatars.label }}</label>
        {{ form.errors.hide_avatar }}</dd>
    <dd>{{ form.hide_signatures }} <label for="id_hide_signatures">{{ form.hide_signatures.label }}</label>
        {{ form.errors.hide_signatures }}</dd>
    <dd>{{ form.hide_profile }} <label for="id_hide_profile">{{ form.hide_profile.label }}</label>
        {{ form.errors.hide_profile }}</dd>
    <dd>{{ form.highlight_search }} <label for="id_highlight_search">{{ form.highlight_search.label }}</label><br />
        <span class="note"> {{ form.highlight_search.help_text }}</span>
        {{ form.errors.highlight_search }}</dd>
    <dt>Forum</dt>
    <dd>{{ form.mark_read_on_logout }} <label for="id_mark_read_on_logout">{{ form.mark_read_on_logout.label }}</label>
        {{ form.errors.mark_read_on_logout }}</dd>
    <dd>{{ form.autosubscribe }} <label for="id_autosubscribe">{{ form.autosubscribe.label }}</label>
        {{ form.errors.autosubscribe }}</dd>
    <dd>{{ form.show_preview }} <label for="id_show_preview">{{ form.show_preview.label }}</label>
        {{ form.errors.show_preview }}
        <dl><dd>{{ form.show_thumbnails }} <label for="id_show_thumbnails">{{ form.show_thumbnails.label }}</label><br />
        <span class="note"> {{ form.show_thumbnails.help_text }}</span>
        {{ form.errors.show_thumbnails }}</dd></dl>
    </dd>
  </dl>
  <p>
    <input type="submit" value="Speichern" />
  </p>
</script>
{% endblock %}
