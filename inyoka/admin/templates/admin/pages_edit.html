{#
    admin/pages_edit.html
    ~~~~~~~~~~~~~~~~~~~~~

    Formular for editing or writing a new page.

    :copyright: 2008 by Christopher Grebs, Benjamin Wiegand.
    :license: GNU GPL.
#}
{%- extends 'admin/overall.html' %}
{% from 'macros.html' import render_form %}
{% set navigation_trace = [
    (href('admin', 'pages'), 'Statische Seiten')
  ] %}
{% if page %}
  {% do navigation_trace.append([
      page|url('edit'), 'Seite „%s“ bearbeiten'|format(page.title)
    ]) %}
{% else %}
  {% do navigation_trace.append([
      href('admin', 'pages', 'new'), 'Neue Seite erstellen'
    ]) %}
{% endif %}
{% block admin_content %}
  <h3>{{ title_trace[0] }}</h3>
  <form action="" method="post">
    {{ render_form(form, ('title', 'key', 'content')) }}
    <p>
      <input type="submit" value="Speichern" />
    </p>
  </form>
{% endblock %}
